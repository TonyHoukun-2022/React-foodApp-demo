{"ast":null,"code":"var _jsxFileName = \"/Users/youxianhan/Desktop/React_FoodOrder/src/components/Meals/MealItem/MealItemForm.js\",\n    _s = $RefreshSig$();\n\nimport { useRef, useState } from \"react\";\nimport Input from \"../../UI/Input\";\nimport styles from \"./MealItemForm.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MealItemForm = props => {\n  _s();\n\n  const amountInputRef = useRef();\n  const [amountIsValid, setAmountIsValid] = useState(true);\n\n  const submitHandler = event => {\n    //prevent default submit action (reloading page)\n    event.preventDefault(); //amountInputRef.current 指向 Input component 里面的 <input>, <input> is stored in the amountInputRef returned by useRef().\n\n    const enteredAmount = amountInputRef.current.value; //<input> has a value property holds the currently entered value, and that value is always a string, so we need to convert it to a number.\n\n    const enteredAmountNum = +enteredAmount;\n\n    if (enteredAmount.trim().length === 0 || enteredAmountNum < 1 || enteredAmountNum > 5) {\n      setAmountIsValid(false); //stop the submitHandler func\n\n      return;\n    } //forward to parent MealItem.js\n\n\n    props.onAddToCart(enteredAmountNum);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: styles.form,\n    onSubmit: submitHandler,\n    children: [/*#__PURE__*/_jsxDEV(Input //cannot directly use ref in custom component\n    //   All we have to do is go to the Component where we wanna receive refs. In this case, thats the Input Component, and then make sure you import React in there from react and wrap your Component function with React.forwardRef.\n    //React 会将ref 作为第二个参数传递给React.forwardRef函数渲染的Input.js\n    , {\n      ref: amountInputRef,\n      label: \"Amount\",\n      input: {\n        //all built-in attributes for <input> tag in Input.js\n        id: `'amount_${props.id}`,\n        type: \"number\",\n        min: \"1\",\n        max: \"5\",\n        step: \"1\",\n        defaultValue: \"1\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), !amountIsValid && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Please enter a valid amount of item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MealItemForm, \"O7Uh5hv/54GKxf7dGhD9dVUtRhQ=\");\n\n_c = MealItemForm;\nexport default MealItemForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"MealItemForm\");","map":{"version":3,"sources":["/Users/youxianhan/Desktop/React_FoodOrder/src/components/Meals/MealItem/MealItemForm.js"],"names":["useRef","useState","Input","styles","MealItemForm","props","amountInputRef","amountIsValid","setAmountIsValid","submitHandler","event","preventDefault","enteredAmount","current","value","enteredAmountNum","trim","length","onAddToCart","form","id","type","min","max","step","defaultValue"],"mappings":";;;AAAA,SAASA,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;;;AACA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAAA;;AAC9B,QAAMC,cAAc,GAAGN,MAAM,EAA7B;AACA,QAAM,CAACO,aAAD,EAAgBC,gBAAhB,IAAoCP,QAAQ,CAAC,IAAD,CAAlD;;AACA,QAAMQ,aAAa,GAAIC,KAAD,IAAW;AAC/B;AACAA,IAAAA,KAAK,CAACC,cAAN,GAF+B,CAG/B;;AACA,UAAMC,aAAa,GAAGN,cAAc,CAACO,OAAf,CAAuBC,KAA7C,CAJ+B,CAK/B;;AACA,UAAMC,gBAAgB,GAAG,CAACH,aAA1B;;AACA,QAAIA,aAAa,CAACI,IAAd,GAAqBC,MAArB,KAAgC,CAAhC,IAAqCF,gBAAgB,GAAG,CAAxD,IAA6DA,gBAAgB,GAAG,CAApF,EAAuF;AACrFP,MAAAA,gBAAgB,CAAC,KAAD,CAAhB,CADqF,CAErF;;AACA;AACD,KAX8B,CAY/B;;;AACAH,IAAAA,KAAK,CAACa,WAAN,CAAkBH,gBAAlB;AACD,GAdD;;AAeA,sBACE;AAAM,IAAA,SAAS,EAAEZ,MAAM,CAACgB,IAAxB;AAA8B,IAAA,QAAQ,EAAEV,aAAxC;AAAA,4BACE,QAAC,KAAD,CACE;AACA;AAEA;AAJF;AAKE,MAAA,GAAG,EAAEH,cALP;AAME,MAAA,KAAK,EAAC,QANR;AAOE,MAAA,KAAK,EAAE;AACL;AACAc,QAAAA,EAAE,EAAG,WAAUf,KAAK,CAACe,EAAG,EAFnB;AAGLC,QAAAA,IAAI,EAAE,QAHD;AAILC,QAAAA,GAAG,EAAE,GAJA;AAKLC,QAAAA,GAAG,EAAE,GALA;AAMLC,QAAAA,IAAI,EAAE,GAND;AAOLC,QAAAA,YAAY,EAAE;AAPT;AAPT;AAAA;AAAA;AAAA;AAAA,YADF,eAkBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAlBF,EAmBG,CAAClB,aAAD,iBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAnBrB;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAuBD,CAzCD;;GAAMH,Y;;KAAAA,Y;AA0CN,eAAeA,YAAf","sourcesContent":["import { useRef, useState } from \"react\"\nimport Input from \"../../UI/Input\"\nimport styles from \"./MealItemForm.module.css\"\nconst MealItemForm = (props) => {\n  const amountInputRef = useRef()\n  const [amountIsValid, setAmountIsValid] = useState(true)\n  const submitHandler = (event) => {\n    //prevent default submit action (reloading page)\n    event.preventDefault()\n    //amountInputRef.current 指向 Input component 里面的 <input>, <input> is stored in the amountInputRef returned by useRef().\n    const enteredAmount = amountInputRef.current.value\n    //<input> has a value property holds the currently entered value, and that value is always a string, so we need to convert it to a number.\n    const enteredAmountNum = +enteredAmount\n    if (enteredAmount.trim().length === 0 || enteredAmountNum < 1 || enteredAmountNum > 5) {\n      setAmountIsValid(false)\n      //stop the submitHandler func\n      return\n    }\n    //forward to parent MealItem.js\n    props.onAddToCart(enteredAmountNum)\n  }\n  return (\n    <form className={styles.form} onSubmit={submitHandler}>\n      <Input\n        //cannot directly use ref in custom component\n        //   All we have to do is go to the Component where we wanna receive refs. In this case, thats the Input Component, and then make sure you import React in there from react and wrap your Component function with React.forwardRef.\n\n        //React 会将ref 作为第二个参数传递给React.forwardRef函数渲染的Input.js\n        ref={amountInputRef}\n        label=\"Amount\"\n        input={{\n          //all built-in attributes for <input> tag in Input.js\n          id: `'amount_${props.id}`,\n          type: \"number\",\n          min: \"1\",\n          max: \"5\",\n          step: \"1\",\n          defaultValue: \"1\",\n        }}\n      ></Input>\n      <button>Add</button>\n      {!amountIsValid && <p>Please enter a valid amount of item</p>}\n    </form>\n  )\n}\nexport default MealItemForm\n"]},"metadata":{},"sourceType":"module"}